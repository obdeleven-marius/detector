<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <title>App Redirection</title>
  <style>
    body, html {
      height: 100%;
      margin: 0;
      display: flex;
      justify-content: center;
      align-items: center;
      background-color: #f0f0f0;
    }
    button {
      padding: 20px 40px;
      font-size: 20px;
      cursor: pointer;
    }
  </style>
</head>
<body>

  <!-- Button to trigger the redirection -->
  <button onclick="redirectToApp()">Redirect to App</button>

  <script>
    function redirectToApp() {
        var isRedirected = false;
        
        // Attempt to redirect to the custom scheme
        window.location = "obdeleven://";
        
        setTimeout(function() {
            // This part will only be reached if the app is not installed,
            // and the browser hasn't been redirected.
            if (!isRedirected) {
                window.location = "https://obdeleven.com";
            }
        }, 1000); // Adjust timeout as needed

        // Use visibility change as an additional check to see if the app was opened.
        document.addEventListener('visibilitychange', function() {
            if (document.visibilityState === 'hidden') {
                isRedirected = true;
            }
        }, false);
    }
  </script>
</body>
</html>
